(function(){function g(a){var c=a.nodeName;null==c||"input"!=c.toLowerCase()||(fish.one(a).addClass("textPlaceholder"),a.value=a.getAttribute("text-placeholder"),fish.one(a).on("focus",function(){a.value==a.getAttribute("text-placeholder")&&(a.value="",fish.one(a).removeClass("textPlaceholder"))}),fish.one(a).on("blur",function(){""===a.value&&(a.value=a.getAttribute("text-placeholder"),fish.one(a).addClass("textPlaceholder"))}))}function h(){function a(a){e.html(a);e.removeClass("none");fish.one(b).addClass("invalid")}
function f(){e.addClass("none");fish.one(b).removeClass("invalid")}var d=document.createElement("div");d.id="validateEmail";d.innerHTML='<div class="header"><span class="acronym">\u5b8c\u5584\u90ae\u7bb1&nbsp;</span><span class="explain">\u73b0\u5728\u5b8c\u5584\u5e76\u9a8c\u8bc1\u60a8\u7684\u90ae\u7bb1\uff0c\u5373\u53ef\u83b7\u5f97100\u6210\u957f\u503c</span><a class="validateEmailClose"></a></div><table><tr style="height: 20px;"><td></td><td></td></tr><tr><td></td><td style="padding-bottom: 10px;"><span class="invalidMessage none"></span></td></tr><tr><td class="label">\u4f60\u7684\u90ae\u7bb1:</td><td><input  class="validateEmailEmail" text-placeholder="\u8bf7\u8f93\u5165E-mail(\u5982a@b.c)"></td></tr><tr><td></td><td style="padding: 8px 2px;"><a class="validateEmailSubmit" href="javascript:void(0);">\u786e\u5b9a<a></td></tr><tr><td></td><td class="prompt">\u70b9\u51fb\u786e\u5b9a\u540e\uff0c\u8bf7\u572824\u5c0f\u65f6\u5185\u81f3\u60a8\u7684\u65b0\u90ae\u7bb1\u67e5\u6536\u9a8c\u8bc1\u90ae\u4ef6</td></tr><table>';
fish.all("a.validateEmailClose",d).on("click",function(){fish.mPop.close()});var b=fish.one("input.validateEmailEmail",d)[0],e=fish.one(".invalidMessage",d);g(b);fish.one(b).on("focus",function(a){f()});fish.all("a.validateEmailSubmit",d).on("click",function(d){""===b.value||b.value==b.getAttribute("text-placeholder")||!fish.valida.email(b.value)?a("\u8bf7\u586b\u5199\u6b63\u786e\u7684\u90ae\u7bb1\u5730\u5740"):(f(),fish.ajax({url:c.url,openType:"get",type:"json",data:c.data+b.value,fn:function(b){switch(b.status){case "101":case "102":a("\u51fa\u9519\u4e86\uff0c\u8bf7\u91cd\u8bd5");
break;case "201":a("\u8bf7\u586b\u5199\u6b63\u786e\u7684\u90ae\u7bb1\u5730\u5740");break;case "401":a("\u8be5\u90ae\u7bb1\u5df2\u5b58\u5728");break;case "501":fish.mPop.close();break;case "301":case "300":fish.mPop.close(),"function"===typeof c.fn&&c.fn(b)}}}))});return d}var c={overlay:!1,bgclose:!0,email:"",url:"http://member.17u.cn/AjaxHandler/VerificationEmailInterface.aspx",data:"action=setsendemail&email=",fn:function(){}};fish.extend({mValidEmail:function(a){fish.lang.extend(c,a);a=document.getElementById("validateEmail");
null===a&&(a=h());""!=c.email&&fish.one("input.validateEmailEmail",a).removeClass("textPlaceholder").val(c.email);fish.mPop({bgclose:c.bgclose,content:a,width:"395px"})}})})();
